<launch>   	
  <!-- Odometry using scan matcher -->
  <node name="laser_scan_matcher_node" pkg="laser_scan_matcher" type="laser_scan_matcher_node" output="screen" respawn="true">
    <param name="fixed_frame" value="/odom"/>
    <param name="base_frame" value="/base_link"/>
    <param name="use_imu" value="false"/>
    <param name="use_odom" value="false"/>
    <param name="use_vel" value="false"/>
    <param name="publish_tf" value="true"/>
    <param name="publish_pose" value="false"/>
    <param name="publish_pose_stamped" value="false"/>
    <param name="publish_nav_odom" value="true"/>
    <param name="max_iterations" value="10"/>
    <param name="alpha" value="0.2"/>
    <param name="beta" value="0.2"/>
  </node>

  <!-- Pose Transformer -->
  <node name="scan_odom_tf_pub" pkg="squirrel_localizer" type="squirrel_localizer_tf_pose_node" output="screen">
    <param name="pose_topic" value="squirrel_localizer_odom_pose"/>
    <param name="from_id" value="map"/>
    <param name="to_id" value="odom"/>
  </node>

  <!-- Localiser -->
  <node name="localizer" pkg="squirrel_localizer" type="squirrel_localizer_localization_node" output="screen">
    <param name="verbose" value="false"/>
    <param name="number_of_particles" value="5000"/>
    <param name="maxLocalizationRange" value="5.0"/>
    <param name="maxRange" value="6.0"/>
    <param name="motion_param_magnitude" value="1.0"/>
    <param name="motion_param_ff" value="0.2"/> 
    <param name="motion_param_fs" value="0.1"/> 
    <param name="motion_param_fr" value="0.2"/> 
    <param name="motion_param_rr" value="0.2"/> 
    <param name="motion_param_sth" value="0.5"/> 
    <param name="motion_param_sx" value="0.5"/> 
    <param name="motion_param_sy" value="0.5"/> 
    <param name="dMapTheshold" value="2"/>
    <param name="observationSigma" value="0.6"/>
    <param name="use_second_laser" value="false"/>
    <param name="use_laser_odom" value="true"/>
    <param name="base_link_frame_ID" value="base_link"/>
    <param name="base_link_encoders_frame_ID" value="base_link_encoder"/>
    <param name="odom_frame_ID" value="odom"/>
    <param name="front_laser_frame_ID" value="hokuyo_link"/>
    <param name="scan_front_topic" value="/scan"/>
    <param name="rear_laser_frame_ID" value="hokuyo_link"/>
    <param name="scan_rear_topic" value="/scan"/>
    <param name="sm_point2line_outliers_maxPerc"  value="0.5"/>
    <param name="sm_use_trimed_mean_as_reference_scan"  value="false"/>
    <param name="dMapTheshold" value="0.3"/>
    <param name="observationPointDensity" value="0.5"/>
    <param name="use_last_pose" value="true"/>
    <param name="use_scan_to_map_matching" value="false"/>
    <param name="sm_filter_gain" value="0.825"/>
  </node>

</launch>
